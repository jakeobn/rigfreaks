{% extends 'chillblast_layout.html' %}

{% block title %}Configuration Summary - RigFreaks{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chillblast-summary.css') }}">
{% endblock %}

{% block content %}
<!-- Summary Hero Section -->
<section class="summary-hero">
    <div class="container">
        <h1>Your PC Build Summary</h1>
        <p>Review your custom PC configuration below. You can make changes, save your build, or proceed to checkout.</p>
    </div>
</section>

<!-- Summary Section -->
<section class="summary-section">
    <div class="container">
        <div class="row">
            <!-- Main Column -->
            <div class="col-lg-8">
                <!-- Configuration Summary -->
                <div class="summary-box">
                    <h2 class="summary-title">Configuration Summary</h2>
                    <p class="summary-subtitle">Your custom PC build with carefully selected components.</p>
                    
                    <div class="config-list">
                        {% if 'cpu' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Processor</div>
                                <div class="config-name">{{ config.cpu.name }}</div>
                                <p class="config-specs">{{ config.cpu.description }}</p>
                                <div class="config-price">£{{ config.cpu.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'motherboard' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Motherboard</div>
                                <div class="config-name">{{ config.motherboard.name }}</div>
                                <p class="config-specs">{{ config.motherboard.description }}</p>
                                <div class="config-price">£{{ config.motherboard.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'ram' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-memory"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Memory</div>
                                <div class="config-name">{{ config.ram.name }}</div>
                                <p class="config-specs">{{ config.ram.description }}</p>
                                <div class="config-price">£{{ config.ram.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'gpu' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-tv"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Graphics Card</div>
                                <div class="config-name">{{ config.gpu.name }}</div>
                                <p class="config-specs">{{ config.gpu.description }}</p>
                                <div class="config-price">£{{ config.gpu.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'storage' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-hdd"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Storage</div>
                                <div class="config-name">{{ config.storage.name }}</div>
                                <p class="config-specs">{{ config.storage.description }}</p>
                                <div class="config-price">£{{ config.storage.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'power_supply' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Power Supply</div>
                                <div class="config-name">{{ config.power_supply.name }}</div>
                                <p class="config-specs">{{ config.power_supply.description }}</p>
                                <div class="config-price">£{{ config.power_supply.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'case' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Case</div>
                                <div class="config-name">{{ config.case.name }}</div>
                                <p class="config-specs">{{ config.case.description }}</p>
                                <div class="config-price">£{{ config.case.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if 'cooling' in config %}
                        <div class="config-item">
                            <div class="config-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <div class="config-content">
                                <div class="config-category">Cooling</div>
                                <div class="config-name">{{ config.cooling.name }}</div>
                                <p class="config-specs">{{ config.cooling.description }}</p>
                                <div class="config-price">£{{ config.cooling.price }}</div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Performance Summary -->
                {% if 'cpu' in config and 'gpu' in config and performance %}
                <div class="summary-box">
                    <h2 class="summary-title">Performance Summary</h2>
                    <p class="summary-subtitle">Estimated performance metrics for your custom build.</p>
                    
                    <div class="performance-box">
                        <h3 class="performance-title">Overall Performance Scores</h3>
                        
                        <div class="performance-chart">
                            <div class="performance-label">
                                <span class="performance-name">Gaming Performance</span>
                                <span class="performance-value">{{ performance.gaming.overall }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.gaming.overall * 10 }}%"></div>
                            </div>
                            
                            <div class="performance-label">
                                <span class="performance-name">Content Creation</span>
                                <span class="performance-value">{{ performance.content.overall }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.content.overall * 10 }}%"></div>
                            </div>
                            
                            <div class="performance-label">
                                <span class="performance-name">Productivity</span>
                                <span class="performance-value">{{ performance.productivity.overall }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.productivity.overall * 10 }}%"></div>
                            </div>
                        </div>
                        
                        <h3 class="performance-title">Gaming Performance by Resolution</h3>
                        
                        <div class="performance-chart">
                            <div class="performance-label">
                                <span class="performance-name">1080p Gaming</span>
                                <span class="performance-value">{{ performance.gaming.res1080 }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.gaming.res1080 * 10 }}%"></div>
                            </div>
                            
                            <div class="performance-label">
                                <span class="performance-name">1440p Gaming</span>
                                <span class="performance-value">{{ performance.gaming.res1440 }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.gaming.res1440 * 10 }}%"></div>
                            </div>
                            
                            <div class="performance-label">
                                <span class="performance-name">4K Gaming</span>
                                <span class="performance-value">{{ performance.gaming.res4k }}/10</span>
                            </div>
                            <div class="performance-bar">
                                <div class="performance-progress" style="width: {{ performance.gaming.res4k * 10 }}%"></div>
                            </div>
                        </div>
                        
                        <h3 class="performance-title">Estimated Game FPS</h3>
                        
                        <div class="fps-boxes">
                            <div class="fps-box">
                                <div class="fps-game">Cyberpunk 2077</div>
                                <div class="fps-value">{{ performance.games.cyberpunk2077 }}</div>
                                <div class="fps-label">FPS @ 1080p Ultra</div>
                            </div>
                            
                            <div class="fps-box">
                                <div class="fps-game">Fortnite</div>
                                <div class="fps-value">{{ performance.games.fortnite }}</div>
                                <div class="fps-label">FPS @ 1080p Epic</div>
                            </div>
                            
                            <div class="fps-box">
                                <div class="fps-game">Call of Duty</div>
                                <div class="fps-value">{{ performance.games.cod }}</div>
                                <div class="fps-label">FPS @ 1080p Max</div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
                
                <!-- Compatibility Check -->
                {% if compatibility_issues %}
                <div class="compatibility-box">
                    <h3 class="compatibility-title"><i class="fas fa-exclamation-triangle"></i> Compatibility Issues Detected</h3>
                    <ul class="compatibility-list">
                        {% for issue in compatibility_issues %}
                        <li class="compatibility-item">{{ issue }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
                
                <!-- Action Buttons -->
                <div class="actions-box">
                    {% if current_user.is_authenticated %}
                    <a href="{{ url_for('builds.save_build') }}" class="btn btn-outline-primary btn-lg btn-save-build">
                        <i class="fas fa-save me-2"></i>Save Build
                    </a>
                    {% endif %}
                    <a href="{{ url_for('step_builder') }}" class="btn btn-outline-secondary btn-lg btn-edit-build">
                        <i class="fas fa-edit me-2"></i>Edit Build
                    </a>
                    <a href="{{ url_for('cart.add_to_cart') }}?from_summary=1" class="btn btn-primary btn-lg btn-order">
                        <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                    </a>
                </div>
            </div>
            
            <!-- Order Summary Column -->
            <div class="col-lg-4">
                <div class="order-summary-box">
                    <h3 class="order-section-title">Order Summary</h3>
                    
                    <div class="order-detail">
                        <h4 class="order-detail-title">Price Breakdown</h4>
                        
                        <div class="total-price-box">
                            <div class="total-price-row">
                                <span class="price-label">Components Subtotal</span>
                                <span class="price-value">£{{ '%0.2f' | format(total_price * 0.8) }}</span>
                            </div>
                            <div class="total-price-row">
                                <span class="price-label">VAT (20%)</span>
                                <span class="price-value">£{{ '%0.2f' | format(total_price * 0.2) }}</span>
                            </div>
                            <div class="total-price-row">
                                <span class="price-label">Assembly & Testing</span>
                                <span class="price-value">FREE</span>
                            </div>
                            <div class="total-price-row">
                                <span class="price-label">Shipping</span>
                                <span class="price-value">FREE</span>
                            </div>
                            <div class="total-price-row">
                                <span class="price-total-label">Total</span>
                                <span class="price-total-value">£{{ '%0.2f' | format(total_price) }}</span>
                            </div>
                            <div class="vat-note">Price includes VAT</div>
                        </div>
                    </div>
                    
                    <div class="order-detail">
                        <h4 class="order-detail-title">Financing Options</h4>
                        
                        <ul class="order-info-list">
                            <li class="order-info-item">
                                <span class="order-info-label">Monthly Payment (24 months)</span>
                                <span class="order-info-value">£{{ '%0.2f' | format(total_price / 24) }}/month</span>
                            </li>
                            <li class="order-info-item">
                                <span class="order-info-label">Monthly Payment (36 months)</span>
                                <span class="order-info-value">£{{ '%0.2f' | format(total_price / 36) }}/month</span>
                            </li>
                            <li class="order-info-item">
                                <span class="order-info-label">Interest Rate</span>
                                <span class="order-info-value">From 9.9% APR</span>
                            </li>
                        </ul>
                        <small class="text-muted">Subject to status. Terms and conditions apply.</small>
                    </div>
                    
                    <div class="estimated-delivery">
                        <h4 class="estimated-title">Estimated Delivery</h4>
                        <div class="estimated-date">Within 10-14 working days</div>
                    </div>
                    
                    <div class="warranty-note">
                        <div class="warranty-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="warranty-content">
                            <h4>5 Year Warranty Included</h4>
                            <p>Our industry-leading warranty covers all parts and labor for complete peace of mind.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Any specific summary page JavaScript can be added here
    });
</script>
{% endblock %}