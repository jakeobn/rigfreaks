{% extends 'layout.html' %}

{% block title %}PC Builder - Step by Step{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/step-builder.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-5 pt-5">
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="mb-3">Build Your Custom PC</h1>
                    <p class="lead">Follow our step-by-step process to build your perfect custom PC.</p>
                </div>
                <div>
                    <a href="https://778eba1a-61a7-4dc4-b064-12bf31a885df-00-267699hzag1om.worf.replit.dev/builder/classic" class="btn btn-outline-primary">
                        <i class="fas fa-th-large me-2"></i>Switch to Standard Builder
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Step Builder Container -->
    <div class="step-builder-container">
        <!-- Progress Bar -->
        <div class="step-progress-bar">
            <div class="step-progress-fill"></div>
            
            <!-- Step Indicators -->
            <div class="step-indicator" data-step="0">
                <span>1</span>
                <div class="step-indicator-label">Case</div>
            </div>
            
            <div class="step-indicator" data-step="1">
                <span>2</span>
                <div class="step-indicator-label">CPU</div>
            </div>
            
            <div class="step-indicator" data-step="2">
                <span>3</span>
                <div class="step-indicator-label">Motherboard</div>
            </div>
            
            <div class="step-indicator" data-step="3">
                <span>4</span>
                <div class="step-indicator-label">CPU Cooler</div>
            </div>
            
            <div class="step-indicator" data-step="4">
                <span>5</span>
                <div class="step-indicator-label">Memory</div>
            </div>
            
            <div class="step-indicator" data-step="5">
                <span>6</span>
                <div class="step-indicator-label">Graphics</div>
            </div>
            
            <div class="step-indicator" data-step="6">
                <span>7</span>
                <div class="step-indicator-label">Power Supply</div>
            </div>
            
            <div class="step-indicator" data-step="7">
                <span>8</span>
                <div class="step-indicator-label">Storage</div>
            </div>
            
            <div class="step-indicator" data-step="8">
                <span>9</span>
                <div class="step-indicator-label">OS</div>
            </div>
            
            <div class="step-indicator" data-step="9">
                <span>10</span>
                <div class="step-indicator-label">Review</div>
            </div>
        </div>
        
        <!-- Step Content Area -->
        <div class="step-content">
            <!-- Step 1: Case -->
            <div id="step-case" class="step-panel" data-required="true" data-category="case" data-step="1">
                <h2 class="step-title">Choose Your Case</h2>
                <p class="step-description">Select a case that fits your style and has enough room for all your components.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Brand:</div>
                    <div class="filter-options" data-filter-type="brand">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="deepcool">DeepCool</div>
                        <div class="filter-tag" data-filter-value="montech">Montech</div>
                        <div class="filter-tag" data-filter-value="corsair">Corsair</div>
                        <div class="filter-tag" data-filter-value="phanteks">Phanteks</div>
                        <div class="filter-tag" data-filter-value="hyte">HYTE</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- HYTE Y70 Touch Infinite White - Ultimate Premium Flagship Plus -->
                    <div class="component-card" data-component-id="hyte-y70-touch-infinite-white" data-price="424.90" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y70 Touch Infinite - White</div>
                        <div class="component-price">£424.90</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- HYTE Y70 Touch Infinite Black - Ultimate Premium Flagship Plus -->
                    <div class="component-card" data-component-id="hyte-y70-touch-infinite-black" data-price="424.90" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y70 Touch Infinite - Black</div>
                        <div class="component-price">£424.90</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- HYTE Y70 Touch Infinite - Ultimate Premium Flagship -->
                    <div class="component-card" data-component-id="hyte-y70-touch-infinite-black-white" data-price="423.08" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y70 Touch Infinite - Black/White</div>
                        <div class="component-price">£423.08</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- HYTE Y60 Red Case - Elite Premium -->
                    <div class="component-card" data-component-id="hyte-y60-red" data-price="203.08" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y60 - Red</div>
                        <div class="component-price">£203.08</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- HYTE Y60 Black/White Case - Ultra Premium Plus -->
                    <div class="component-card" data-component-id="hyte-y60-black-white" data-price="201.54" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y60 - Black/White</div>
                        <div class="component-price">£201.54</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- HYTE Y60 White Case - Ultra Premium -->
                    <div class="component-card" data-component-id="hyte-y60-white" data-price="200.00" data-brand="hyte">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">HYTE Y60 - White</div>
                        <div class="component-price">£200.00</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                
                    <!-- Phanteks NV5 MKII White Case -->
                    <div class="component-card" data-component-id="phanteks-nv5-mkii-white" data-price="121.14" data-brand="phanteks">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Phanteks NV5 MKII - White</div>
                        <div class="component-price">£121.14</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Phanteks NV5 MKII Black Case -->
                    <div class="component-card" data-component-id="phanteks-nv5-mkii" data-price="115.32" data-brand="phanteks">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Phanteks NV5 MKII - Black</div>
                        <div class="component-price">£115.32</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- DeepCool CC560 Case -->
                    <div class="component-card" data-component-id="deepcool-cc560-v2" data-price="54.40" data-brand="deepcool">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">DeepCool CC560 V2 - Black</div>
                        <div class="component-price">£54.40</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Montech KING 95 PRO White Case - Ultra Premium -->
                    <div class="component-card" data-component-id="montech-king-95-pro-white" data-price="160.77" data-brand="montech">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Montech KING 95 PRO - White</div>
                        <div class="component-price">£160.77</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Montech KING 95 PRO Black Case - Premium -->
                    <div class="component-card" data-component-id="montech-king-95-pro-black" data-price="149.99" data-brand="montech">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Montech KING 95 PRO - Black</div>
                        <div class="component-price">£149.99</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Montech KING 95 PRO Red Case -->
                    <div class="component-card" data-component-id="montech-king-95-pro-red" data-price="129.99" data-brand="montech">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Montech KING 95 PRO - Red</div>
                        <div class="component-price">£129.99</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Montech KING 95 PRO Blue Case -->
                    <div class="component-card" data-component-id="montech-king-95-pro-blue" data-price="129.99" data-brand="montech">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Montech KING 95 PRO - Blue</div>
                        <div class="component-price">£129.99</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Montech KING 65 PRO Case -->
                    <div class="component-card" data-component-id="montech-king-65-pro" data-price="80.40" data-brand="montech">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Montech KING 65 PRO - Black</div>
                        <div class="component-price">£80.40</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Corsair 3000D RGB AIRFLOW Case -->
                    <div class="component-card" data-component-id="corsair-3000d-rgb-airflow" data-price="93.53" data-brand="corsair">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Corsair 3000D RGB AIRFLOW - Black</div>
                        <div class="component-price">£93.53</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                    
                    <!-- Corsair 3500X Case -->
                    <div class="component-card" data-component-id="corsair-3500x" data-price="91.10" data-brand="corsair">
                        <div class="component-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="component-image">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="component-name">Corsair 3500X - White</div>
                        <div class="component-price">£91.10</div>
                        <button class="btn btn-sm btn-outline-light mt-2 component-details-btn">
                            <i class="fas fa-info-circle me-1"></i> View Details
                        </button>
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 2: CPU -->
            <div id="step-cpu" class="step-panel" data-required="true" data-category="cpu" data-step="2">
                <h2 class="step-title">Select Your Processor (CPU)</h2>
                <p class="step-description">Choose a processor that fits your performance needs and budget.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Brand:</div>
                    <div class="filter-options" data-filter-type="brand">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="intel">Intel</div>
                        <div class="filter-tag" data-filter-value="amd">AMD</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 3: Motherboard -->
            <div id="step-motherboard" class="step-panel" data-required="true" data-category="motherboard" data-step="3">
                <h2 class="step-title">Select Your Motherboard</h2>
                <p class="step-description">Choose a motherboard that's compatible with your CPU and offers the features you need.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Chipset:</div>
                    <div class="filter-options" data-filter-type="chipset">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="b660">Intel B660</div>
                        <div class="filter-tag" data-filter-value="z690">Intel Z690</div>
                        <div class="filter-tag" data-filter-value="b550">AMD B550</div>
                        <div class="filter-tag" data-filter-value="x570">AMD X570</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 4: CPU Cooling -->
            <div id="step-cooling" class="step-panel" data-required="true" data-category="cooling" data-step="4">
                <h2 class="step-title">Select Your CPU Cooler</h2>
                <p class="step-description">Choose a cooling solution that will keep your processor running at optimal temperatures.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Type:</div>
                    <div class="filter-options" data-filter-type="type">
                        <div class="filter-tag" data-filter-value="all">All Coolers</div>
                        <div class="filter-tag" data-filter-value="Air Cooler">Air Coolers</div>
                        <div class="filter-tag" data-filter-value="Liquid Cooler">Liquid Coolers</div>
                    </div>
                    
                    <div class="filter-title mt-3">Filter by Brand:</div>
                    <div class="filter-options" data-filter-type="brand">
                        <div class="filter-tag" data-filter-value="all">All Brands</div>
                        <div class="filter-tag" data-filter-value="Noctua">Noctua</div>
                        <div class="filter-tag" data-filter-value="Corsair">Corsair</div>
                        <div class="filter-tag" data-filter-value="DeepCool">DeepCool</div>
                        <div class="filter-tag" data-filter-value="Arctic">Arctic</div>
                        <div class="filter-tag" data-filter-value="be quiet!">be quiet!</div>
                        <div class="filter-tag" data-filter-value="NZXT">NZXT</div>
                    </div>
                </div>
                
                <!-- Component Cards Container -->
                <div class="component-cards">
                    <!-- Cooling cards will be loaded dynamically -->
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 5: Memory (RAM) -->
            <div id="step-ram" class="step-panel" data-required="true" data-category="ram" data-step="5">
                <h2 class="step-title">Select Your Memory (RAM)</h2>
                <p class="step-description">Choose memory that provides the right amount of capacity and speed for your workloads.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Capacity:</div>
                    <div class="filter-options" data-filter-type="capacity">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="16">16GB</div>
                        <div class="filter-tag" data-filter-value="32">32GB</div>
                        <div class="filter-tag" data-filter-value="64">64GB</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 6: Graphics Card (GPU) -->
            <div id="step-gpu" class="step-panel" data-required="true" data-category="gpu" data-step="6">
                <h2 class="step-title">Select Your Graphics Card (GPU)</h2>
                <p class="step-description">Choose a graphics card that provides the performance you need for gaming and visual workloads.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Brand:</div>
                    <div class="filter-options" data-filter-type="brand">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="nvidia">NVIDIA</div>
                        <div class="filter-tag" data-filter-value="amd">AMD</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 7: Power Supply -->
            <div id="step-power" class="step-panel" data-required="true" data-category="power_supply" data-step="7">
                <h2 class="step-title">Select Your Power Supply</h2>
                <p class="step-description">Choose a power supply that delivers clean, stable power with adequate wattage for your components.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Wattage:</div>
                    <div class="filter-options" data-filter-type="wattage">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="550">550W</div>
                        <div class="filter-tag" data-filter-value="650">650W</div>
                        <div class="filter-tag" data-filter-value="750">750W</div>
                        <div class="filter-tag" data-filter-value="850">850W</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 8: Storage (HDD/SSD) -->
            <div id="step-storage" class="step-panel" data-required="true" data-category="storage" data-step="8">
                <h2 class="step-title">Select Your Storage (HDD/SSD)</h2>
                <p class="step-description">Choose storage that provides enough space and speed for your needs. SSDs offer faster performance, while HDDs provide more storage for the cost.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Type:</div>
                    <div class="filter-options" data-filter-type="type">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="ssd">SSD</div>
                        <div class="filter-tag" data-filter-value="hdd">HDD</div>
                        <div class="filter-tag" data-filter-value="nvme">NVMe</div>
                    </div>
                    
                    <div class="filter-title mt-3">Filter by Capacity:</div>
                    <div class="filter-options" data-filter-type="capacity">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="512gb">512GB</div>
                        <div class="filter-tag" data-filter-value="1tb">1TB</div>
                        <div class="filter-tag" data-filter-value="2tb">2TB</div>
                        <div class="filter-tag" data-filter-value="4tb">4TB+</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No components are available in this category at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 9: Operating System -->
            <div id="step-os" class="step-panel" data-required="true" data-category="os" data-step="9">
                <h2 class="step-title">Select Your Operating System</h2>
                <p class="step-description">Choose an operating system for your PC. Windows is the most popular choice for gaming, while Linux offers more customization options.</p>
                
                <!-- Filter Section -->
                <div class="filter-section">
                    <div class="filter-title">Filter by Type:</div>
                    <div class="filter-options" data-filter-type="type">
                        <div class="filter-tag" data-filter-value="all">View All</div>
                        <div class="filter-tag" data-filter-value="windows">Windows</div>
                        <div class="filter-tag" data-filter-value="linux">Linux</div>
                        <div class="filter-tag" data-filter-value="none">No OS</div>
                    </div>
                </div>
                
                <!-- Component Cards -->
                <div class="component-cards">
                    <!-- No components available -->
                    <div class="alert alert-info w-100 text-center">
                        <i class="fas fa-info-circle me-2"></i>
                        No operating system options are available at the moment.
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Step 10: Final Review -->
            <div id="step-review" class="step-panel" data-required="false" data-step="10">
                <h2 class="step-title">Review Your Build</h2>
                <p class="step-description">Review your component selections and make any final changes before proceeding.</p>
                
                <!-- Missing Components Alert -->
                <div id="missing-components-alert" class="alert alert-danger mb-4" style="display: none;">
                    <h4><i class="fas fa-exclamation-triangle me-2"></i>Missing Components</h4>
                    <p>Your build is incomplete. Please select the following required components before continuing:</p>
                    <ul id="missing-components-list" class="mb-0"></ul>
                </div>
                
                <!-- Build Summary -->
                <div class="build-summary">
                    <h3 class="build-summary-title">
                        <i class="fas fa-clipboard-list me-2"></i>
                        Your Custom PC Configuration
                    </h3>
                    
                    <ul class="build-summary-list">
                        <!-- Items will be populated by JavaScript -->
                    </ul>
                    
                    <div class="build-total">
                        <div class="build-total-label">Total Price:</div>
                        <div class="build-total-price">$0.00</div>
                    </div>
                </div>
                
                <!-- Compatibility Check -->
                <div class="compatibility-check mt-4">
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        All components are compatible and ready for assembly.
                    </div>
                </div>
                
                <!-- Estimated Performance -->
                <div class="estimated-performance mt-4">
                    <h4 class="mb-3">Estimated Performance:</h4>
                    
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Gaming</h5>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 65%"></div>
                                    </div>
                                    <small class="text-muted">Good for 1080p gaming</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Productivity</h5>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-info" role="progressbar" style="width: 55%"></div>
                                    </div>
                                    <small class="text-muted">Suitable for everyday tasks</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Content Creation</h5>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 40%"></div>
                                    </div>
                                    <small class="text-muted">Basic video and photo editing</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Error Message Area -->
                <div class="step-error-message alert alert-danger mt-3" style="display: none;"></div>
            </div>
            
            <!-- Final Success Step (hidden initially) -->
            <div class="final-step" style="display: none;">
                <div class="final-step-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2 class="final-step-title">Your Build is Complete!</h2>
                <p class="final-step-message">Your custom PC configuration has been added to your cart. Proceed to checkout to complete your order.</p>
                
                <div class="final-actions">
                    <a href="{{ url_for('cart.view_cart') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-shopping-cart me-2"></i>View Cart
                    </a>
                    <a href="{{ url_for('index') }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-home me-2"></i>Return to Home
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Step Navigation -->
        <div class="step-navigation">
            <button class="step-btn step-btn-secondary step-btn-prev">
                <i class="fas fa-arrow-left"></i>
                <span>Previous Step</span>
            </button>
            
            <button class="step-btn step-btn-primary step-btn-next">
                <span>Next Step</span>
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- Component Details Panel -->
<div class="component-details-panel">
    <div class="component-details-header">
        <div class="component-details-title">Component Details</div>
        <button class="component-details-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="component-details-content">
        <div class="component-details-image">
            <i class="fas fa-desktop"></i>
        </div>
        
        <div class="component-details-info">
            <div class="component-details-name">Component Name</div>
            <div class="component-details-price">$0.00</div>
        </div>
        
        <div class="component-details-description">
            Detailed specifications will appear here.
        </div>
        
        <div class="component-details-specs">
            <div class="component-spec-item">
                <div class="component-spec-label">Form Factor:</div>
                <div class="component-spec-value">Mid-Tower ATX</div>
            </div>
            <div class="component-spec-item">
                <div class="component-spec-label">Dimensions:</div>
                <div class="component-spec-value">450mm x 220mm x 450mm</div>
            </div>
            <div class="component-spec-item">
                <div class="component-spec-label">Features:</div>
                <div class="component-spec-value">RGB Lighting, Tempered Glass, Dust Filters</div>
            </div>
        </div>
        
        <div class="component-details-actions">
            <button class="btn btn-primary component-select-btn">
                <i class="fas fa-check me-2"></i>Select This Component
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/step-builder.js') }}"></script>
<script src="{{ url_for('static', filename='js/load-components.js') }}"></script>
<script>
    // Initialize the step builder as a global object
    window.stepBuilder = new StepBuilder();
</script>
{% endblock %}